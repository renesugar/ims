

# provider
`import "github.com/wyattjoh/ims/internal/platform/provider"`

* [Overview](#pkg-overview)
* [Index](#pkg-index)

## <a name="pkg-overview">Overview</a>



## <a name="pkg-index">Index</a>
* [Constants](#pkg-constants)
* [func GetOriginProvider(ctx context.Context, origin, originCache string) (provider.Provider, error)](#GetOriginProvider)
* [func GetOriginRoundTripper(ctx context.Context, underlyingTrasport http.RoundTripper, originCache string) (http.RoundTripper, error)](#GetOriginRoundTripper)
* [func GetUnderlyingTransport(ctx context.Context, originURL *url.URL) (http.RoundTripper, error)](#GetUnderlyingTransport)
* [func Middleware(providers map[string]provider.Provider, next http.HandlerFunc) http.HandlerFunc](#Middleware)
* [func New(ctx context.Context, defaultHost string, backends []string, originCache string) (map[string]provider.Provider, error)](#New)


#### <a name="pkg-files">Package files</a>
[middleware.go](/src/github.com/wyattjoh/ims/internal/platform/provider/middleware.go) [provider.go](/src/github.com/wyattjoh/ims/internal/platform/provider/provider.go) 


## <a name="pkg-constants">Constants</a>
``` go
const ContextKey keyValue = 1
```
ContextKey is the key for the provider.Provider value in the context.




## <a name="GetOriginProvider">func</a> [GetOriginProvider](/src/target/provider.go?s=1544:1642#L46)
``` go
func GetOriginProvider(ctx context.Context, origin, originCache string) (provider.Provider, error)
```
GetOriginProvider will get the origin provider based on the scheme of the
url.



## <a name="GetOriginRoundTripper">func</a> [GetOriginRoundTripper](/src/target/provider.go?s=695:827#L19)
``` go
func GetOriginRoundTripper(ctx context.Context, underlyingTrasport http.RoundTripper, originCache string) (http.RoundTripper, error)
```
GetOriginRoundTripper gets the roundtripper if the provider is a remote
origin type.



## <a name="GetUnderlyingTransport">func</a> [GetUnderlyingTransport](/src/target/provider.go?s=376:471#L8)
``` go
func GetUnderlyingTransport(ctx context.Context, originURL *url.URL) (http.RoundTripper, error)
```
GetUnderlyingTransport checks the url as some clients have specific
requirements of the underlying transport.



## <a name="Middleware">func</a> [Middleware](/src/target/middleware.go?s=343:438#L8)
``` go
func Middleware(providers map[string]provider.Provider, next http.HandlerFunc) http.HandlerFunc
```
Middleware attaches the correct provider.Provider to the request so that
the next handler can use it.



## <a name="New">func</a> [New](/src/target/provider.go?s=2624:2750#L77)
``` go
func New(ctx context.Context, defaultHost string, backends []string, originCache string) (map[string]provider.Provider, error)
```
New loops over the origins provided, parsing with the specified providers,
and returns the providers keyed by host and optionally wrapped with an origin
cache.








- - -
Generated by [godoc2md](http://godoc.org/github.com/davecheney/godoc2md)
