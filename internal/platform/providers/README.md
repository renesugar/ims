

# providers
`import "github.com/wyattjoh/ims/internal/platform/providers"`

* [Overview](#pkg-overview)
* [Index](#pkg-index)

## <a name="pkg-overview">Overview</a>



## <a name="pkg-index">Index</a>
* [Constants](#pkg-constants)
* [func GetRemoteBackendProvider(ctx context.Context, origin, originCache string) (provider.Provider, error)](#GetRemoteBackendProvider)
* [func GetRemoteProviderClient(ctx context.Context, originURL *url.URL, transport http.RoundTripper) (provider.Provider, error)](#GetRemoteProviderClient)
* [func GetUnderlyingTransport(ctx context.Context, originURL *url.URL) (http.RoundTripper, error)](#GetUnderlyingTransport)
* [func Middleware(providers map[string]provider.Provider, next http.HandlerFunc) http.HandlerFunc](#Middleware)
* [func New(ctx context.Context, defaultHost string, backends []string, originCache string) (map[string]provider.Provider, error)](#New)
* [func ParseBackend(defaultHost, backend string) (string, string, error)](#ParseBackend)
* [func WrapCacheRoundTripper(ctx context.Context, underlyingTransport http.RoundTripper, originCache string) (http.RoundTripper, error)](#WrapCacheRoundTripper)


#### <a name="pkg-files">Package files</a>
[middleware.go](/src/github.com/wyattjoh/ims/internal/platform/providers/middleware.go) [providers.go](/src/github.com/wyattjoh/ims/internal/platform/providers/providers.go) 


## <a name="pkg-constants">Constants</a>
``` go
const ContextKey keyValue = 1
```
ContextKey is the key for the provider.Provider value in the context.




## <a name="GetRemoteBackendProvider">func</a> [GetRemoteBackendProvider](/src/target/providers.go?s=2191:2296#L65)
``` go
func GetRemoteBackendProvider(ctx context.Context, origin, originCache string) (provider.Provider, error)
```
GetRemoteBackendProvider will get the backend provider based on the scheme of
the url.



## <a name="GetRemoteProviderClient">func</a> [GetRemoteProviderClient](/src/target/providers.go?s=1607:1732#L50)
``` go
func GetRemoteProviderClient(ctx context.Context, originURL *url.URL, transport http.RoundTripper) (provider.Provider, error)
```
GetRemoteProviderClient gets the remote provider client or errors.



## <a name="GetUnderlyingTransport">func</a> [GetUnderlyingTransport](/src/target/providers.go?s=377:472#L8)
``` go
func GetUnderlyingTransport(ctx context.Context, originURL *url.URL) (http.RoundTripper, error)
```
GetUnderlyingTransport checks the url as some clients have specific
requirements of the underlying transport.



## <a name="Middleware">func</a> [Middleware](/src/target/middleware.go?s=344:439#L8)
``` go
func Middleware(providers map[string]provider.Provider, next http.HandlerFunc) http.HandlerFunc
```
Middleware attaches the correct provider.Provider to the request so that
the next handler can use it.



## <a name="New">func</a> [New](/src/target/providers.go?s=3843:3969#L110)
``` go
func New(ctx context.Context, defaultHost string, backends []string, originCache string) (map[string]provider.Provider, error)
```
New loops over the origins provided, parsing with the specified providers,
and returns the providers keyed by host and optionally wrapped with an origin
cache. This will error if the same backend host is extracted more than once.



## <a name="ParseBackend">func</a> [ParseBackend](/src/target/providers.go?s=3092:3162#L91)
``` go
func ParseBackend(defaultHost, backend string) (string, string, error)
```
ParseBackend parses the backend using the following formats:


	<host>,<origin> OR <origin>

Where if the host is not specified, it falls back to the defaultHost.



## <a name="WrapCacheRoundTripper">func</a> [WrapCacheRoundTripper](/src/target/providers.go?s=697:830#L19)
``` go
func WrapCacheRoundTripper(ctx context.Context, underlyingTransport http.RoundTripper, originCache string) (http.RoundTripper, error)
```
WrapCacheRoundTripper gets the roundtripper if the provider is a remote
backend type.








- - -
Generated by [godoc2md](http://godoc.org/github.com/davecheney/godoc2md)
